(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SidePanel}));var _Users_george_projects_helping_eye_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),SidePanel=function SidePanel(){var _React$useState=react__WEBPACK_IMPORTED_MODULE_1___default.a.useState(),_React$useState2=Object(_Users_george_projects_helping_eye_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_React$useState,2),updateState=_React$useState2[1],forceUpdate=react__WEBPACK_IMPORTED_MODULE_1___default.a.useCallback((function(){return updateState({})}),[]),dummy=[{from:"BOT",value:"Enter a command"}];react__WEBPACK_IMPORTED_MODULE_1___default.a.useEffect((function(e){document.onkeyup=function(e){if((e.ctrlKey||e.metaKey)&&66==e.which){var _=document.querySelector("#HelpingEye____Input");_.querySelector("#HelpingEye____Input").focus()}}}),[]);var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(dummy),_useState2=Object(_Users_george_projects_helping_eye_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),dummyData=_useState2[0],changeDummyData=_useState2[1],onDummyChange=function(e){return changeDummyData(e.target.value)},bot={sendMessage:function(e){e.length<=0||(console.log("SEND MESSAGE FROM TRIGGER",e),dummyData.unshift({from:"BOT",value:e}),forceUpdate())}};react__WEBPACK_IMPORTED_MODULE_1___default.a.useEffect((function(){console.log("SETTING UP LISTENER"),document.querySelector("#HelpingEye____Input").focus(),chrome.runtime.onMessage.addListener((function(request,sender,sendResponse){if(console.log("onMessage",request,sender,dummyData),"newBotMessage"==request.method)dummyData.unshift({from:"BOT",value:request.data}),forceUpdate();else if("evalTrigger"==request.method){var trigger=eval(request.data);console.log("THE TRIGGER",trigger),trigger(request.props,bot)}})),console.log("SETUP UP LISTENER")}),[]);var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),_useState4=Object(_Users_george_projects_helping_eye_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),userData=_useState4[0],changeUserData=_useState4[1],onChangeUserData=function(e){return changeUserData(e.target.value)},_useState5=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),_useState6=Object(_Users_george_projects_helping_eye_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState5,2),userResponse=_useState6[0],changeUserResponse=_useState6[1],onChangeUserResponse=function(e){return changeUserResponse(e.target.value)},submit=function(){changeUserData(""),dummyData.unshift({from:"HUMAN",value:userData}),forceUpdate(),chrome.runtime.sendMessage({method:"newHumanMessage",data:{message:userData,host:window.location.host}})},onFormSubmit=function(e){e.preventDefault(),submit()};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{id:"sidebar",style:{width:"350px",zIndex:"9999",background:"#f3f3f3",position:"fixed",top:"0",left:"0",fontFamily:"arial",boxShadow:"4px 0px 16px rgba(0,0,0,0.2)",height:"100vh",display:"flex",flexDirection:"column"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"sidebar-header",id:"header",style:{textAlign:"center",color:"#F2F7F2"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2",{style:{fontSize:"24px",lineHeight:"1.5",color:"#333",paddingTop:"10px"}},"Helping Eye")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column-reverse",overflow:"auto"}},dummyData.map((function(e,_){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{key:_,style:{padding:"15px 5px 15px 5px",display:"flex",flexDirection:"BOT"===e.from?"row":"row-reverse"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{id:_==dummyData.length-1?"HelpingEye____LastBubble":null,style:{padding:"10px 15px",background:"BOT"===e.from?"#ddd":"blue",color:"BOT"===e.from?"#333":"white",fontSize:"16px",maxWidth:"250px",borderRadius:"15px"}},e.value))}))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("form",{onSubmit:onFormSubmit,id:"text-box",method:"POST",action:"#",style:{display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"stretch"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input",{onChange:onChangeUserData,id:"HelpingEye____Input",value:userData,type:"text",placeholder:"Enter a command",style:{flex:"1",background:"#fff",padding:"15px",color:"#333",fontSize:"20px"}}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{type:"submit",style:{textDecoration:"initial",padding:"15px",background:"#8d8dff",color:"white",letterSpacing:"initial",textTransform:"none",boxShadow:"none",borderRadius:"0",fontSize:"20px",lineHeight:"1",height:"auto"}},"Send")))}},,,function(e,_,t){e.exports=t(17)},,,,,function(e,_,t){},function(e,_,t){},function(e,_,t){"use strict";t.r(_);var a=t(0),r=t.n(a),n=t(3),o=t.n(n),s=(t(15),t(4)),u=t(5),l=t(8),c=t(6),i=t(9),d=(t(16),t(7)),p=function(e){function _(){return Object(s.a)(this,_),Object(l.a)(this,Object(c.a)(_).apply(this,arguments))}return Object(i.a)(_,e),Object(u.a)(_,[{key:"render",value:function(){return r.a.createElement(d.a,null)}}]),_}(a.Component),m=setInterval((function(e){console.log("trying"),document.getElementById("helping_eye_container")&&(clearInterval(m),console.log("about to call reactDOM!!!"),o.a.render(r.a.createElement(p,null),document.getElementById("helping_eye_container")))}),150)}],[[10,1,2]]]);
//# sourceMappingURL=main.436c3f8e.chunk.js.map